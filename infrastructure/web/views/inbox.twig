{% extends 'layout.twig' %}

{% block body %}
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            enableNewMessageNotifications('{{ address }}', true)
        });
    </script>

    <div style="float: right; text-align: end;">
        <a href="/inbox/{{ address }}/delete-all">
            Wipe Inbox</a><br>
        <a href="/logout">
            Logout</a>
    </div>
    <h1>{{ address }}</h1>
    {% for mail in mailSummaries %}
        <a href="{{ mail.to[0] }}/{{ mail.uid }}" class="no-link-color">
            <blockquote class="email">
                <h6 class="list-group-item-heading">
                    {{ mail.from[0].name }}
                    <span class="text-muted">{{ mail.from[0].address }}</span>
                    <small class="float-right">{{ mail.date |date }}</small>
                </h6>
                <p class="list-group-item-text text-truncate" style="width: 75%">
                    {{ mail.subject }} </p>
                </div>

            </blockquote>
        </a>
    {% endfor %}

    {% if not mailSummaries %}
        <blockquote>
            There are no mails yet.
        </blockquote>
    {% endif %}


{% endblock %}
